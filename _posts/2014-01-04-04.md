---
layout: posts
title: Tutorial 4
desc: Controller and Ajax Loading
app: ex4-app
controller: ex4-controller
---
# {{ page.desc }}

### Demo
{% raw %}
<div class="demo">
	<label>Seahawks: </label>
	<div class="indent">{{ seahawks }}</div>
	<label>Player: </label>
	<div class="indent">
		<input ng-model="player" type="text" />
	</div>
	<label>Found: </label>
	<ul>
		<li ng-repeat="hawk in seahawks | filter:player">
			{{ hawk }}
		</li>
	</ul>
</div>
{% endraw %}

### Code
{% highlight html tabsize=2 %}
<div class="demo">
	<label>Seahawks: </label>
	<div class="indent">{{ site.ng.open {{ site.ng.close }}seahawks{{ site.ng.close }}</div>
	<label>Input: </label>
	<div class="indent">
		<input ng-model="player" type="text" />
	</div>
	<label>Found: </label>
	<ul>
		<li ng-repeat="hawk in seahawks | filter:player">
			{{ site.ng.open {{ site.ng.close }}hawk{{ site.ng.close }}
		</li>
	</ul>
</div>
{% endhighlight %}

### JavaScript
{% highlight js tabsize=2 %}
(function(ng) {
	ng.
		module("ex4-app", []).
		controller("ex4-controller", ["$scope", "$http", "$timeout",
			function($scope, $http, $timeout) {
				$scope.seahawks = ["loading"];
				$http.
					get("{prefix}/ajax/seahawks.json".format({prefix: ng.site.prefix})).
					then(function(response) {
						$timeout(function() {
							$scope.seahawks = response.data || ["error"];
						}, 1000, true);
					});
			}
		]);
})(window.angular);
{% endhighlight %}

### Notes
1. ...
1. ...

